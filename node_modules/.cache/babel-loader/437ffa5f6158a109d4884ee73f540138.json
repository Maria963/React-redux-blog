{"ast":null,"code":"import _regeneratorRuntime from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cretrix/projects/React-blog/src/pages/create-companies.component.js\";\nimport React, { Component } from 'react';\nimport { createCompanies } from \"../utils/JWTAuth.js\";\n\nvar CreateCompanies =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateCompanies, _Component);\n\n  function CreateCompanies(props) {\n    var _this;\n\n    _classCallCheck(this, CreateCompanies);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateCompanies).call(this, props));\n\n    _this.onChangeCompaniesName = function (e) {\n      _this.setState({\n        name: e.target.value,\n        nameerror: '',\n        success: ''\n      });\n    };\n\n    _this.onChangeCompaniesEmail = function (e) {\n      _this.setState({\n        email: e.target.value,\n        success: ''\n      });\n    };\n\n    _this.onChangeCompaniesLogo = function (e) {\n      _this.setState({\n        logo: e.target.files[0],\n        success: ''\n      });\n    };\n\n    _this.onChangeCompaniesWebsite = function (e) {\n      _this.setState({\n        website: e.target.value,\n        success: ''\n      });\n    };\n\n    _this.onSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var _this$state, name, email, logo, website, newCompanies, res;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                _this$state = _this.state, name = _this$state.name, email = _this$state.email, logo = _this$state.logo, website = _this$state.website;\n                newCompanies = new FormData();\n                newCompanies.append('name', name);\n                newCompanies.append('email', email);\n                newCompanies.append('logo', logo);\n                newCompanies.append('website', website);\n                _context.prev = 7;\n                _context.next = 10;\n                return createCompanies(newCompanies);\n\n              case 10:\n                res = _context.sent;\n\n                if (res.status === 200) {\n                  _this.setState({\n                    success: 'Company created',\n                    name: '',\n                    email: '',\n                    logo: '',\n                    website: '',\n                    inputKey: Date.now()\n                  });\n                }\n\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](7);\n\n                _this.setState({\n                  errors: _context.t0.res.data.message,\n                  nameerror: _context.t0.res.data.errors.name\n                });\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[7, 14]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      name: '',\n      email: '',\n      logo: '',\n      website: '',\n      errors: '',\n      nameerror: '',\n      success: '',\n      inputKey: Date.now()\n    };\n    return _this;\n  }\n\n  _createClass(CreateCompanies, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          name = _this$state2.name,\n          website = _this$state2.website,\n          success = _this$state2.success,\n          nameerror = _this$state2.nameerror,\n          inputKey = _this$state2.inputKey;\n      return React.createElement(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Create New Company\"), React.createElement(\"form\", {\n        encType: \"multipart/form-data\",\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"invalid-feedback\",\n        style: {\n          display: 'block'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, nameerror), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Name: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: name,\n        onChange: this.onChangeCompaniesName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Email: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: email,\n        onChange: this.onChangeCompaniesEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Logo: \"), React.createElement(\"input\", {\n        type: \"file\",\n        className: \"form-control\",\n        key: inputKey,\n        onChange: this.onChangeCompaniesLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Website: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: website,\n        onChange: this.onChangeCompaniesWebsite,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Create Company\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"valid-feedback\",\n        style: {\n          display: 'block'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, success)));\n    }\n  }]);\n\n  return CreateCompanies;\n}(Component);\n\nexport default CreateCompanies;","map":{"version":3,"sources":["/home/cretrix/projects/React-blog/src/pages/create-companies.component.js"],"names":["React","Component","createCompanies","CreateCompanies","props","onChangeCompaniesName","e","setState","name","target","value","nameerror","success","onChangeCompaniesEmail","email","onChangeCompaniesLogo","logo","files","onChangeCompaniesWebsite","website","onSubmit","preventDefault","state","newCompanies","FormData","append","res","status","inputKey","Date","now","errors","data","message","marginTop","display"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { createCompanies } from \"../utils/JWTAuth.js\";\n\nclass CreateCompanies extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            name: '',\n            email: '',\n            logo: '',\n            website: '',\n            errors: '',\n            nameerror: '',\n            success: '',\n            inputKey: Date.now()\n        }\n    }\n\n    onChangeCompaniesName = (e) => {\n        this.setState({\n            name: e.target.value,  nameerror: '',  success: ''\n        });\n    }\n\n    onChangeCompaniesEmail = (e) => {\n        this.setState({\n            email: e.target.value, success: ''\n        });\n    }\n\n    onChangeCompaniesLogo = (e) => {\n        this.setState({\n            logo: e.target.files[0],  success: ''\n        });\n    }\n\n    onChangeCompaniesWebsite = (e) => {\n        this.setState({\n            website: e.target.value, success: ''\n        });\n    }\n\n    onSubmit = async (e) => {\n        e.preventDefault();\n        const { name, email,logo, website }  = this.state;\n           const newCompanies = new FormData();\n           newCompanies.append('name', name);\n           newCompanies.append('email', email);\n           newCompanies.append('logo', logo);\n           newCompanies.append('website', website);\n\n           try {\n              let res = await createCompanies(newCompanies);\n              if (res.status===200) {\n                this.setState({\n                    success: 'Company created',\n                    name: '',\n                    email: '',\n                    logo: '',\n                    website: '',\n                    inputKey: Date.now()\n                }); }\n              }\n            catch (error) {\n                this.setState({\n                    errors: error.res.data.message,\n                    nameerror: error.res.data.errors.name,\n                 })\n            }\n            }\n\n\n    render() {\n        const {email, name, website, success, nameerror, inputKey } = this.state;\n        return (\n            <div style={{marginTop: 10}}>\n                <h3>Create New Company</h3>\n                <form encType=\"multipart/form-data\" onSubmit={this.onSubmit}>\n                    <div className=\"invalid-feedback\" style={{display: 'block'}}>\n                        {nameerror}\n                     </div>\n                    <div className=\"form-group\"> \n                        <label>Name: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={name}\n                                onChange={this.onChangeCompaniesName}\n                                />\n                              \n                    \n                    </div>\n                    <div className=\"form-group\">\n                        <label>Email: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={email}\n                                onChange={this.onChangeCompaniesEmail}\n                                />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Logo: </label>\n                        <input \n                                type=\"file\" \n                                className=\"form-control\"\n                                key={inputKey}\n                                onChange={this.onChangeCompaniesLogo}\n                                />\n                    </div>\n\n                    \n                    \n                    <div className=\"form-group\">\n                        <label>Website: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={website}\n                                onChange={this.onChangeCompaniesWebsite}\n                                />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Create Company\" className=\"btn btn-primary\" />\n                    </div>\n                    <div className=\"valid-feedback\" style={{display: 'block'}}>\n                        {success}\n                     </div>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default CreateCompanies;"]},"metadata":{},"sourceType":"module"}