{"ast":null,"code":"import _classCallCheck from \"/home/cretrix/projects/react-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cretrix/projects/react-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cretrix/projects/react-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cretrix/projects/react-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/cretrix/projects/react-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cretrix/projects/react-blog/src/pages/edit-employee.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { SERVER_URL2 } from \"../utils/JWTAuth.js\";\n\nvar UpdateEmployee =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UpdateEmployee, _Component);\n\n  function UpdateEmployee(props) {\n    var _this;\n\n    _classCallCheck(this, UpdateEmployee);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateEmployee).call(this, props));\n\n    _this.onChangeEmployeeFirstname = function (e) {\n      _this.setState({\n        first_name: e.target.value\n      });\n    };\n\n    _this.onChangeEmployeeLastname = function (e) {\n      _this.setState({\n        last_name: e.target.value\n      });\n    };\n\n    _this.onChangeEmployeeEmail = function (e) {\n      _this.setState({\n        email: e.target.value\n      });\n    };\n\n    _this.onChangeEmployeePhone = function (e) {\n      _this.setState({\n        phone: e.target.value\n      });\n    };\n\n    _this.onChangeEmployeeCompany = function (e) {\n      _this.setState({\n        company_id: e.target.value\n      });\n    };\n\n    _this.onSubmit = function (e) {\n      console.log(window.localStorage.getItem('access_token'));\n      e.preventDefault();\n      var _this$state = _this.state,\n          first_name = _this$state.first_name,\n          last_name = _this$state.last_name,\n          company_id = _this$state.company_id,\n          email = _this$state.email,\n          phone = _this$state.phone;\n      console.log(\"Form submitted:\");\n      var updateEmployee = {\n        first_name: first_name,\n        last_name: last_name,\n        email: email,\n        company_id: company_id,\n        phone: phone\n      };\n      axios.post(SERVER_URL2 + '/api/employees/' + _this.props.match.params.id, updateEmployee).then(function (res) {\n        return console.log(res.data);\n      }).catch(function (error) {\n        _this.setState({\n          nameerror: error.response.data.errors.first_name,\n          lastnameerror: error.response.data.errors.last_name\n        });\n      });\n\n      _this.setState({\n        first_name: '',\n        last_name: '',\n        company_id: '',\n        email: '',\n        phone: ''\n      });\n    };\n\n    _this.companiesList = function () {\n      var _this$state2 = _this.state,\n          companies = _this$state2.companies,\n          company_id = _this$state2.company_id;\n      console.log(companies);\n      return companies.map(function (company) {\n        return React.createElement(\"option\", {\n          value: company.id,\n          key: company.id,\n          selected: company_id == company.id ? 'selected' : '',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, company.name);\n      });\n    };\n\n    _this.state = {\n      first_name: '',\n      last_name: '',\n      company_id: '',\n      email: '',\n      phone: '',\n      errors: '',\n      nameerror: '',\n      lastnameerror: '',\n      success: '',\n      companies: []\n    };\n    return _this;\n  }\n\n  _createClass(UpdateEmployee, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(SERVER_URL2 + '/api/companies').then(function (response) {\n        _this2.setState({\n          companies: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      console.log(this.props.match.params.id);\n      axios.get(SERVER_URL2 + '/api/employees/' + this.props.match.params.id).then(function (response) {\n        _this2.setState({\n          first_name: response.data.first_name == null ? '' : response.data.first_name,\n          last_name: response.data.last_name == null ? '' : response.data.last_name,\n          company_id: response.data.company_id == null ? '' : response.data.company_id,\n          email: response.data.email == null ? '' : response.data.email,\n          phone: response.data.phone == null ? '' : response.data.phone\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state3 = this.state,\n          first_name = _this$state3.first_name,\n          last_name = _this$state3.last_name,\n          email = _this$state3.email,\n          phone = _this$state3.phone;\n      return React.createElement(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Update New Employee\"), React.createElement(\"form\", {\n        encType: \"multipart/form-data\",\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Firstname: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: first_name,\n        onChange: this.onChangeEmployeeFirstname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Lastname:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: last_name,\n        onChange: this.onChangeEmployeeLastname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Company name\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        name: \"company_id\",\n        onChange: this.onChangeEmployeeCompany,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Choose Company\"), this.companiesList())), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: email,\n        onChange: this.onChangeEmployeeEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Phone: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: phone,\n        onChange: this.onChangeEmployeePhone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Update Employee\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return UpdateEmployee;\n}(Component);\n\nexport default UpdateEmployee;","map":{"version":3,"sources":["/home/cretrix/projects/react-blog/src/pages/edit-employee.component.js"],"names":["React","Component","axios","SERVER_URL2","UpdateEmployee","props","onChangeEmployeeFirstname","e","setState","first_name","target","value","onChangeEmployeeLastname","last_name","onChangeEmployeeEmail","email","onChangeEmployeePhone","phone","onChangeEmployeeCompany","company_id","onSubmit","console","log","window","localStorage","getItem","preventDefault","state","updateEmployee","post","match","params","id","then","res","data","catch","error","nameerror","response","errors","lastnameerror","companiesList","companies","map","company","name","success","get","marginTop"],"mappings":";;;;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAUC,WAAV,QAA6B,qBAA7B;;IAGMC,c;;;;;AACF,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,wFAAMA,KAAN;;AADe,UA2CrBC,yBA3CqB,GA2CO,UAACC,CAAD,EAAO;AAC7B,YAAKC,QAAL,CAAc;AACVC,QAAAA,UAAU,EAAEF,CAAC,CAACG,MAAF,CAASC;AADX,OAAd;AAGH,KA/CkB;;AAAA,UAiDnBC,wBAjDmB,GAiDQ,UAACL,CAAD,EAAO;AAC9B,YAAKC,QAAL,CAAc;AACVK,QAAAA,SAAS,EAAEN,CAAC,CAACG,MAAF,CAASC;AADV,OAAd;AAGH,KArDkB;;AAAA,UAuDnBG,qBAvDmB,GAuDK,UAACP,CAAD,EAAO;AAC3B,YAAKC,QAAL,CAAc;AACVO,QAAAA,KAAK,EAAER,CAAC,CAACG,MAAF,CAASC;AADN,OAAd;AAGH,KA3DkB;;AAAA,UA6DnBK,qBA7DmB,GA6DK,UAACT,CAAD,EAAO;AAC3B,YAAKC,QAAL,CAAc;AACVS,QAAAA,KAAK,EAAEV,CAAC,CAACG,MAAF,CAASC;AADN,OAAd;AAGH,KAjEkB;;AAAA,UAmEnBO,uBAnEmB,GAmEO,UAACX,CAAD,EAAO;AAC7B,YAAKC,QAAL,CAAc;AACVW,QAAAA,UAAU,EAAEZ,CAAC,CAACG,MAAF,CAASC;AADX,OAAd;AAGH,KAvEkB;;AAAA,UAyEnBS,QAzEmB,GAyER,UAACb,CAAD,EAAO;AAEdc,MAAAA,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,CAAZ;AACAlB,MAAAA,CAAC,CAACmB,cAAF;AAHc,wBAI6C,MAAKC,KAJlD;AAAA,UAIPlB,UAJO,eAIPA,UAJO;AAAA,UAIKI,SAJL,eAIKA,SAJL;AAAA,UAIgBM,UAJhB,eAIgBA,UAJhB;AAAA,UAI4BJ,KAJ5B,eAI4BA,KAJ5B;AAAA,UAImCE,KAJnC,eAImCA,KAJnC;AAKdI,MAAAA,OAAO,CAACC,GAAR;AAEA,UAAMM,cAAc,GAAG;AACnBnB,QAAAA,UAAU,EAAVA,UADmB;AAEnBI,QAAAA,SAAS,EAATA,SAFmB;AAGnBE,QAAAA,KAAK,EAALA,KAHmB;AAInBI,QAAAA,UAAU,EAAVA,UAJmB;AAKnBF,QAAAA,KAAK,EAALA;AALmB,OAAvB;AAUCf,MAAAA,KAAK,CAAC2B,IAAN,CAAY1B,WAAW,GAAC,iBAAZ,GAA8B,MAAKE,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAlE,EAAsEJ,cAAtE,EACCK,IADD,CACM,UAAAC,GAAG;AAAA,eAAIb,OAAO,CAACC,GAAR,CAAYY,GAAG,CAACC,IAAhB,CAAJ;AAAA,OADT,EAECC,KAFD,CAEO,UAACC,KAAD,EAAW;AACf,cAAK7B,QAAL,CAAc;AACX8B,UAAAA,SAAS,EAAED,KAAK,CAACE,QAAN,CAAeJ,IAAf,CAAoBK,MAApB,CAA2B/B,UAD3B;AAEXgC,UAAAA,aAAa,EAAEJ,KAAK,CAACE,QAAN,CAAeJ,IAAf,CAAoBK,MAApB,CAA2B3B;AAF/B,SAAd;AAIH,OAPA;;AAUC,YAAKL,QAAL,CAAc;AACZC,QAAAA,UAAU,EAAE,EADA;AAEZI,QAAAA,SAAS,EAAE,EAFC;AAGZM,QAAAA,UAAU,EAAE,EAHA;AAIZJ,QAAAA,KAAK,EAAE,EAJK;AAKZE,QAAAA,KAAK,EAAE;AALK,OAAd;AAOL,KA3GkB;;AAAA,UA6GnByB,aA7GmB,GA6GH,YAAM;AAAA,yBACgB,MAAKf,KADrB;AAAA,UACVgB,SADU,gBACVA,SADU;AAAA,UACCxB,UADD,gBACCA,UADD;AAElBE,MAAAA,OAAO,CAACC,GAAR,CAAYqB,SAAZ;AACA,aAAOA,SAAS,CAACC,GAAV,CAAc,UAACC,OAAD,EAAa;AAC9B,eAAO;AAAQ,UAAA,KAAK,EAAEA,OAAO,CAACb,EAAvB;AAA2B,UAAA,GAAG,EAAEa,OAAO,CAACb,EAAxC;AAA4C,UAAA,QAAQ,EAAKb,UAAU,IAAI0B,OAAO,CAACb,EAAtB,GAA2B,UAA3B,GAAwC,EAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAsGa,OAAO,CAACC,IAA9G,CAAP;AACH,OAFM,CAAP;AAGH,KAnHkB;;AAGf,UAAKnB,KAAL,GAAc;AACVlB,MAAAA,UAAU,EAAE,EADF;AAEVI,MAAAA,SAAS,EAAE,EAFD;AAGVM,MAAAA,UAAU,EAAE,EAHF;AAIVJ,MAAAA,KAAK,EAAE,EAJG;AAKVE,MAAAA,KAAK,EAAE,EALG;AAMVuB,MAAAA,MAAM,EAAE,EANE;AAOVF,MAAAA,SAAS,EAAE,EAPD;AAQVG,MAAAA,aAAa,EAAE,EARL;AASVM,MAAAA,OAAO,EAAE,EATC;AAUVJ,MAAAA,SAAS,EAAE;AAVD,KAAd;AAHe;AAelB;;;;wCAEmB;AAAA;;AAChBzC,MAAAA,KAAK,CAAC8C,GAAN,CAAU7C,WAAW,GAAC,gBAAtB,EACK8B,IADL,CACU,UAAAM,QAAQ,EAAI;AACd,QAAA,MAAI,CAAC/B,QAAL,CAAc;AAAEmC,UAAAA,SAAS,EAAEJ,QAAQ,CAACJ;AAAtB,SAAd;AACH,OAHL,EAIKC,KAJL,CAIW,UAAUC,KAAV,EAAgB;AACnBhB,QAAAA,OAAO,CAACC,GAAR,CAAYe,KAAZ;AACH,OANL;AAQAhB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC,EAApC;AACA9B,MAAAA,KAAK,CAAC8C,GAAN,CAAU7C,WAAW,GAAC,iBAAZ,GAA8B,KAAKE,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAhE,EACKC,IADL,CACU,UAAAM,QAAQ,EAAI;AACd,QAAA,MAAI,CAAC/B,QAAL,CAAc;AACVC,UAAAA,UAAU,EAAG8B,QAAQ,CAACJ,IAAT,CAAc1B,UAAd,IAA4B,IAA5B,GAAmC,EAAnC,GAAwC8B,QAAQ,CAACJ,IAAT,CAAc1B,UADzD;AAEVI,UAAAA,SAAS,EAAE0B,QAAQ,CAACJ,IAAT,CAActB,SAAd,IAA0B,IAA1B,GAAiC,EAAjC,GAAsC0B,QAAQ,CAACJ,IAAT,CAActB,SAFrD;AAGVM,UAAAA,UAAU,EAAEoB,QAAQ,CAACJ,IAAT,CAAchB,UAAd,IAA2B,IAA3B,GAAkC,EAAlC,GAAuCoB,QAAQ,CAACJ,IAAT,CAAchB,UAHvD;AAIVJ,UAAAA,KAAK,EAAGwB,QAAQ,CAACJ,IAAT,CAAcpB,KAAd,IAAsB,IAAtB,GAA6B,EAA7B,GAAkCwB,QAAQ,CAACJ,IAAT,CAAcpB,KAJ9C;AAKVE,UAAAA,KAAK,EAAGsB,QAAQ,CAACJ,IAAT,CAAclB,KAAd,IAAqB,IAArB,GAA4B,EAA5B,GAAgCsB,QAAQ,CAACJ,IAAT,CAAclB;AAL5C,SAAd;AAOH,OATL,EAWKmB,KAXL,CAWW,UAAUC,KAAV,EAAiB;AACpBhB,QAAAA,OAAO,CAACC,GAAR,CAAYe,KAAZ;AACH,OAbL;AAcH;;;6BA4EQ;AAAA,yBACyC,KAAKV,KAD9C;AAAA,UACElB,UADF,gBACEA,UADF;AAAA,UACcI,SADd,gBACcA,SADd;AAAA,UACyBE,KADzB,gBACyBA,KADzB;AAAA,UACgCE,KADhC,gBACgCA,KADhC;AAEL,aACI;AAAK,QAAA,KAAK,EAAE;AAACgC,UAAAA,SAAS,EAAE;AAAZ,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,EAEI;AAAM,QAAA,OAAO,EAAC,qBAAd;AAAoC,QAAA,QAAQ,EAAE,KAAK7B,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAEI;AACQ,QAAA,IAAI,EAAC,MADb;AAEQ,QAAA,SAAS,EAAC,cAFlB;AAGQ,QAAA,KAAK,EAAEX,UAHf;AAIQ,QAAA,QAAQ,EAAE,KAAKH,yBAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ,EAUI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AACQ,QAAA,IAAI,EAAC,MADb;AAEQ,QAAA,SAAS,EAAC,cAFlB;AAGQ,QAAA,KAAK,EAAEO,SAHf;AAIQ,QAAA,QAAQ,EAAE,KAAKD,wBAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAVJ,EAoBI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,IAAI,EAAC,YAAtC;AAAmD,QAAA,QAAQ,EAAE,KAAKM,uBAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAQ,QAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADA,EAEW,KAAKwB,aAAL,EAFX,CAFJ,CApBJ,EA6BI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AACQ,QAAA,IAAI,EAAC,MADb;AAEQ,QAAA,SAAS,EAAC,cAFlB;AAGQ,QAAA,KAAK,EAAE3B,KAHf;AAIQ,QAAA,QAAQ,EAAE,KAAKD,qBAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CA7BJ,EAyCI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AACQ,QAAA,IAAI,EAAC,MADb;AAEQ,QAAA,SAAS,EAAC,cAFlB;AAGQ,QAAA,KAAK,EAAEG,KAHf;AAIQ,QAAA,QAAQ,EAAE,KAAKD,qBAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAzCJ,EAmDI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,iBAA3B;AAA6C,QAAA,SAAS,EAAC,iBAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAnDJ,CAFJ,CADJ;AA4DH;;;;EApLyBf,S;;AAuL9B,eAAeG,cAAf","sourcesContent":["\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport {  SERVER_URL2 } from \"../utils/JWTAuth.js\";\n\n\nclass UpdateEmployee  extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = ({\n            first_name: '',\n            last_name: '',\n            company_id: '',\n            email: '',\n            phone: '',\n            errors: '',\n            nameerror: '',\n            lastnameerror: '',\n            success: '',\n            companies: []\n          })\n    }\n\n    componentDidMount() {\n        axios.get(SERVER_URL2+'/api/companies')\n            .then(response => {\n                this.setState({ companies: response.data });\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n       \n        console.log(this.props.match.params.id);\n        axios.get(SERVER_URL2+'/api/employees/'+this.props.match.params.id)\n            .then(response => {\n                this.setState({\n                    first_name:  response.data.first_name == null ? '':  response.data.first_name ,\n                    last_name: response.data.last_name== null ? '':  response.data.last_name ,\n                    company_id: response.data.company_id== null ? '':  response.data.company_id ,\n                    email:  response.data.email== null ? '':  response.data.email ,\n                    phone:  response.data.phone==null ? '': response.data.phone\n                })   \n            },\n)\n            .catch(function (error) {\n                console.log(error);\n            })\n    }\n\n  onChangeEmployeeFirstname = (e) => {\n        this.setState({\n            first_name: e.target.value\n        });\n    }\n\n    onChangeEmployeeLastname = (e) => {\n        this.setState({\n            last_name: e.target.value\n        });\n    }\n\n    onChangeEmployeeEmail = (e) => {\n        this.setState({\n            email: e.target.value\n        });\n    }\n\n    onChangeEmployeePhone = (e) => {\n        this.setState({\n            phone: e.target.value\n        });\n    }\n\n    onChangeEmployeeCompany = (e) => {\n        this.setState({\n            company_id: e.target.value\n        });\n    }\n\n    onSubmit = (e) => {\n       \n        console.log(window.localStorage.getItem('access_token'));\n        e.preventDefault();\n        const {first_name, last_name, company_id, email, phone}  = this.state;\n        console.log(`Form submitted:`);\n\n        const updateEmployee = {\n            first_name,\n            last_name,\n            email,\n            company_id,\n            phone\n        };\n\n\n\n         axios.post( SERVER_URL2+'/api/employees/'+this.props.match.params.id, updateEmployee)\n         .then(res => console.log(res.data))\n         .catch((error) => {\n            this.setState({\n               nameerror: error.response.data.errors.first_name,\n               lastnameerror: error.response.data.errors.last_name\n            })\n        })\n\n        \n          this.setState({\n            first_name: '',\n            last_name: '',\n            company_id: '',\n            email: '',\n            phone: '',\n          })\n    }\n\n    companiesList = () => {\n        const { companies, company_id } = this.state;\n        console.log(companies);\n        return companies.map((company) => {\n            return <option value={company.id} key={company.id} selected = { company_id == company.id ? 'selected' : ''}>{company.name}</option>\n        })\n    }\n\n    render() {\n        const {first_name, last_name, email, phone} = this.state;\n        return (\n            <div style={{marginTop: 10}}>\n                <h3>Update New Employee</h3>\n                <form encType=\"multipart/form-data\" onSubmit={this.onSubmit}>\n                    <div className=\"form-group\"> \n                        <label>Firstname: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={first_name}\n                                onChange={this.onChangeEmployeeFirstname}\n                                />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Lastname:</label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={last_name}\n                                onChange={this.onChangeEmployeeLastname}\n                                />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Company name</label>\n                        <select className=\"form-control\" name=\"company_id\" onChange={this.onChangeEmployeeCompany}>\n                        <option value=''>Choose Company</option>\n                                  {this.companiesList()}\n                        </select>\n                    </div>\n\n\n                    <div className=\"form-group\">\n                        <label>Email</label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={email}\n                                onChange={this.onChangeEmployeeEmail}\n                                />\n                    </div>\n\n                    \n                    \n                    <div className=\"form-group\">\n                        <label>Phone: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={phone}\n                                onChange={this.onChangeEmployeePhone}\n                                />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Update Employee\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default UpdateEmployee;"]},"metadata":{},"sourceType":"module"}