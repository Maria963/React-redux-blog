{"ast":null,"code":"import _classCallCheck from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cretrix/projects/React-blog/src/pages/create-employee.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { SERVER_URL } from \"../utils/JWTAuth.js\";\n\nvar CreateEmployee =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateEmployee, _Component);\n\n  function CreateEmployee(props) {\n    var _this;\n\n    _classCallCheck(this, CreateEmployee);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateEmployee).call(this, props));\n\n    _this.onChangeEmployeeFirstname = function (e) {\n      _this.setState({\n        first_name: e.target.value,\n        success: '',\n        nameerror: ''\n      });\n    };\n\n    _this.onChangeEmployeeLastname = function (e) {\n      _this.setState({\n        last_name: e.target.value,\n        success: '',\n        lastnameerror: ''\n      });\n    };\n\n    _this.onChangeEmployeeEmail = function (e) {\n      _this.setState({\n        email: e.target.value,\n        success: ''\n      });\n    };\n\n    _this.onChangeEmployeePhone = function (e) {\n      _this.setState({\n        phone: e.target.value,\n        success: ''\n      });\n    };\n\n    _this.onChangeEmployeeCompany = function (e) {\n      _this.setState({\n        company_id: e.target.value,\n        success: ''\n      });\n    };\n\n    _this.onSubmit = function (e) {\n      //   console.log(localStorage.getItem('access_token'));\n      e.preventDefault();\n      var _this$state = _this.state,\n          first_name = _this$state.first_name,\n          last_name = _this$state.last_name,\n          company_id = _this$state.company_id,\n          email = _this$state.email,\n          phone = _this$state.phone;\n      console.log(\"Form submitted:\");\n      var newEmployee = {\n        first_name: first_name,\n        last_name: last_name,\n        email: email,\n        company_id: company_id,\n        phone: phone\n      };\n      console.log(newEmployee);\n      axios.post(SERVER_URL + '/api/employees', newEmployee).then(function (res) {\n        return _this.setState({\n          success: 'Employee created'\n        });\n      }).catch(function (error) {\n        _this.setState({\n          nameerror: error.response.data.errors.first_name,\n          lastnameerror: error.response.data.errors.last_name\n        });\n      });\n\n      _this.setState({\n        first_name: '',\n        last_name: '',\n        company_id: '',\n        email: '',\n        phone: ''\n      });\n    };\n\n    _this.companiesList = function () {\n      var companies = _this.state.companies;\n      return companies.map(function (company) {\n        return React.createElement(\"option\", {\n          value: company.id,\n          key: company.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, company.name);\n      });\n    };\n\n    _this.state = {\n      first_name: '',\n      last_name: '',\n      company_id: '',\n      email: '',\n      phone: '',\n      companies: [],\n      nameerror: '',\n      lastnameerror: '',\n      success: ''\n    };\n    return _this;\n  }\n\n  _createClass(CreateEmployee, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(SERVER_URL + '/api/companies', {\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem('access_token')),\n          'Content-Type': 'application/json'\n        }\n      }).then(function (response) {\n        _this2.setState({\n          companies: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          first_name = _this$state2.first_name,\n          last_name = _this$state2.last_name,\n          email = _this$state2.email,\n          phone = _this$state2.phone,\n          nameerror = _this$state2.nameerror,\n          lastnameerror = _this$state2.lastnameerror,\n          success = _this$state2.success;\n      return React.createElement(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Create New Employee\"), React.createElement(\"form\", {\n        encType: \"multipart/form-data\",\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"invalid-feedback\",\n        style: {\n          display: 'block'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, nameerror, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), lastnameerror), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Firstname: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: first_name,\n        onChange: this.onChangeEmployeeFirstname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Lastname:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: last_name,\n        onChange: this.onChangeEmployeeLastname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Company name\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        name: \"company_id\",\n        onChange: this.onChangeEmployeeCompany,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Choose Company\"), this.companiesList())), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: email,\n        onChange: this.onChangeEmployeeEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Phone: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: phone,\n        onChange: this.onChangeEmployeePhone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Create Employee\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"valid-feedback\",\n        style: {\n          display: 'block'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, success)));\n    }\n  }]);\n\n  return CreateEmployee;\n}(Component);\n\nexport default CreateEmployee;","map":{"version":3,"sources":["/home/cretrix/projects/React-blog/src/pages/create-employee.component.js"],"names":["React","Component","axios","SERVER_URL","CreateEmployee","props","onChangeEmployeeFirstname","e","setState","first_name","target","value","success","nameerror","onChangeEmployeeLastname","last_name","lastnameerror","onChangeEmployeeEmail","email","onChangeEmployeePhone","phone","onChangeEmployeeCompany","company_id","onSubmit","preventDefault","state","console","log","newEmployee","post","then","res","catch","error","response","data","errors","companiesList","companies","map","company","id","name","get","headers","Authorization","localStorage","getItem","marginTop","display"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport {  SERVER_URL } from \"../utils/JWTAuth.js\";\n\n\nclass CreateEmployee  extends Component {\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            first_name: '',\n            last_name: '',\n            company_id: '',\n            email: '',\n            phone: '',\n            companies: [],\n            nameerror: '',\n            lastnameerror: '',\n            success: '',\n        }\n    }\n\n    componentDidMount() {\n        axios.get(SERVER_URL+'/api/companies',{\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(response => {\n                this.setState({ companies: response.data });\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n    }\n\n    onChangeEmployeeFirstname = (e) => {\n        this.setState({\n            first_name: e.target.value, success: '', nameerror: '',\n        });\n    }\n\n    onChangeEmployeeLastname = (e) => {\n        this.setState({\n            last_name: e.target.value, success: '',  lastnameerror: '',\n        });\n    }\n\n    onChangeEmployeeEmail = (e) => {\n        this.setState({\n            email: e.target.value, success: ''\n        });\n    }\n\n    onChangeEmployeePhone = (e) => {\n        this.setState({\n            phone: e.target.value, success: ''\n        });\n    }\n\n    onChangeEmployeeCompany = (e) => {\n        this.setState({\n            company_id: e.target.value, success: ''\n        });\n    }\n\n\n    onSubmit = (e) => {\n       \n     //   console.log(localStorage.getItem('access_token'));\n        e.preventDefault();\n        const {first_name, last_name, company_id, email, phone}  = this.state;\n        console.log(`Form submitted:`);\n     \n\n       const newEmployee = {\n            first_name,\n            last_name,\n            email,\n            company_id,\n            phone\n        };\n\n        console.log(newEmployee);\n\n\n         axios.post( SERVER_URL+'/api/employees', newEmployee)\n         .then(res => \n            this.setState({\n                success: 'Employee created',\n            }))\n        .catch((error) => {\n            this.setState({\n                nameerror: error.response.data.errors.first_name,\n                lastnameerror: error.response.data.errors.last_name\n            })\n        })\n        \n          this.setState({\n            first_name: '',\n            last_name: '',\n            company_id: '',\n            email: '',\n            phone: '',\n          })\n    }\n\n\n    companiesList = () => {\n        const { companies } = this.state;\n        return companies.map((company) => {\n            return <option value={company.id} key={company.id}>{company.name}</option>\n        })\n    }\n\n    render() {\n        const {first_name, last_name, email, phone, nameerror, lastnameerror, success} = this.state;\n        return (\n            <div style={{marginTop: 10}}>\n                <h3>Create New Employee</h3>\n                <form encType=\"multipart/form-data\" onSubmit={this.onSubmit}>\n                <div className=\"invalid-feedback\" style={{display: 'block'}}>\n                        {nameerror} \n                        <br/> \n                        {lastnameerror}\n                     </div>\n                    <div className=\"form-group\"> \n                        <label>Firstname: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={first_name}\n                                onChange={this.onChangeEmployeeFirstname}\n                                />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Lastname:</label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={last_name}\n                                onChange={this.onChangeEmployeeLastname}\n                                />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Company name</label>\n                        <select className=\"form-control\" name=\"company_id\"  onChange={this.onChangeEmployeeCompany}>\n                                 <option value=''>Choose Company</option>\n                                  {this.companiesList()}\n                        </select>\n                    </div>\n\n\n                    <div className=\"form-group\">\n                        <label>Email</label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={email}\n                                onChange={this.onChangeEmployeeEmail}\n                                />\n                    </div>  \n                    \n                    <div className=\"form-group\">\n                        <label>Phone: </label>\n                        <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                value={phone}\n                                onChange={this.onChangeEmployeePhone}\n                                />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Create Employee\" className=\"btn btn-primary\" />\n                    </div>\n                    <div className=\"valid-feedback\" style={{display: 'block'}}>\n                        {success}\n                     </div>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default CreateEmployee;"]},"metadata":{},"sourceType":"module"}