{"ast":null,"code":"import _regeneratorRuntime from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/cretrix/projects/React-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cretrix/projects/React-blog/src/pages/companies/create.js\";\nimport React, { Component } from \"react\";\nimport Api from \"../../utils/api\";\n\nvar CreateCompanies =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateCompanies, _Component);\n\n  function CreateCompanies(props) {\n    var _this;\n\n    _classCallCheck(this, CreateCompanies);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateCompanies).call(this, props));\n\n    _this.onChangeCompaniesName = function (e) {\n      _this.setState({\n        name: e.target.value,\n        nameerror: \"\",\n        success: \"\"\n      });\n    };\n\n    _this.onChangeCompaniesEmail = function (e) {\n      _this.setState({\n        email: e.target.value,\n        success: \"\"\n      });\n    };\n\n    _this.onChangeCompaniesLogo = function (e) {\n      _this.setState({\n        logo: e.target.files[0],\n        success: \"\"\n      });\n    };\n\n    _this.onChangeCompaniesWebsite = function (e) {\n      _this.setState({\n        website: e.target.value,\n        success: \"\"\n      });\n    };\n\n    _this.onSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var _this$state, name, email, logo, website, newCompanies, response;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                _this$state = _this.state, name = _this$state.name, email = _this$state.email, logo = _this$state.logo, website = _this$state.website;\n                newCompanies = new FormData();\n                newCompanies.append(\"name\", name);\n                newCompanies.append(\"email\", email);\n                newCompanies.append(\"logo\", logo);\n                newCompanies.append(\"website\", website);\n                _context.prev = 7;\n                _context.next = 10;\n                return Api.createCompanies(newCompanies);\n\n              case 10:\n                response = _context.sent;\n\n                if (response.status === 201) {\n                  response.setState({\n                    success: \"Company created\",\n                    name: \"\",\n                    email: \"\",\n                    logo: \"\",\n                    website: \"\",\n                    inputKey: Date.now()\n                  });\n                }\n\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](7);\n\n                _this.setState({\n                  errors: _context.t0.response.data.message,\n                  nameerror: _context.t0.response.data.errors.name\n                });\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[7, 14]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      name: \"\",\n      email: \"\",\n      logo: \"\",\n      website: \"\",\n      errors: \"\",\n      nameerror: \"\",\n      success: \"\",\n      inputKey: Date.now()\n    };\n    return _this;\n  }\n\n  _createClass(CreateCompanies, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          name = _this$state2.name,\n          website = _this$state2.website,\n          success = _this$state2.success,\n          nameerror = _this$state2.nameerror,\n          inputKey = _this$state2.inputKey;\n      return React.createElement(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Create New Company\"), React.createElement(\"form\", {\n        encType: \"multipart/form-data\",\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"invalid-feedback\",\n        style: {\n          display: \"block\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, nameerror), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Name: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: name,\n        onChange: this.onChangeCompaniesName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Email: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: email,\n        onChange: this.onChangeCompaniesEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Logo: \"), React.createElement(\"input\", {\n        type: \"file\",\n        className: \"form-control\",\n        key: inputKey,\n        onChange: this.onChangeCompaniesLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Website: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: website,\n        onChange: this.onChangeCompaniesWebsite,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Create Company\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"valid-feedback\",\n        style: {\n          display: \"block\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, success)));\n    }\n  }]);\n\n  return CreateCompanies;\n}(Component);\n\nexport default CreateCompanies;","map":{"version":3,"sources":["/home/cretrix/projects/React-blog/src/pages/companies/create.js"],"names":["React","Component","Api","CreateCompanies","props","onChangeCompaniesName","e","setState","name","target","value","nameerror","success","onChangeCompaniesEmail","email","onChangeCompaniesLogo","logo","files","onChangeCompaniesWebsite","website","onSubmit","preventDefault","state","newCompanies","FormData","append","createCompanies","response","status","inputKey","Date","now","errors","data","message","marginTop","display"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Api from \"../../utils/api\";\n\nclass CreateCompanies extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: \"\",\n      email: \"\",\n      logo: \"\",\n      website: \"\",\n      errors: \"\",\n      nameerror: \"\",\n      success: \"\",\n      inputKey: Date.now()\n    };\n  }\n\n  onChangeCompaniesName = e => {\n    this.setState({\n      name: e.target.value,\n      nameerror: \"\",\n      success: \"\"\n    });\n  };\n\n  onChangeCompaniesEmail = e => {\n    this.setState({\n      email: e.target.value,\n      success: \"\"\n    });\n  };\n\n  onChangeCompaniesLogo = e => {\n    this.setState({\n      logo: e.target.files[0],\n      success: \"\"\n    });\n  };\n\n  onChangeCompaniesWebsite = e => {\n    this.setState({\n      website: e.target.value,\n      success: \"\"\n    });\n  };\n\n  onSubmit = async e => {\n    e.preventDefault();\n    const { name, email, logo, website } = this.state;\n    const newCompanies = new FormData();\n    newCompanies.append(\"name\", name);\n    newCompanies.append(\"email\", email);\n    newCompanies.append(\"logo\", logo);\n    newCompanies.append(\"website\", website);\n\n    try {\n      let response = await Api.createCompanies(newCompanies);\n      if (response.status === 201) {\n        response.setState({\n          success: \"Company created\",\n          name: \"\",\n          email: \"\",\n          logo: \"\",\n          website: \"\",\n          inputKey: Date.now()\n        });\n      }\n    } catch (error) {\n      this.setState({\n        errors: error.response.data.message,\n        nameerror: error.response.data.errors.name\n      });\n    }\n  };\n\n  render() {\n    const { email, name, website, success, nameerror, inputKey } = this.state;\n    return (\n      <div style={{ marginTop: 10 }}>\n        <h3>Create New Company</h3>\n        <form encType=\"multipart/form-data\" onSubmit={this.onSubmit}>\n          <div className=\"invalid-feedback\" style={{ display: \"block\" }}>\n            {nameerror}\n          </div>\n          <div className=\"form-group\">\n            <label>Name: </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              value={name}\n              onChange={this.onChangeCompaniesName}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Email: </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              value={email}\n              onChange={this.onChangeCompaniesEmail}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Logo: </label>\n            <input\n              type=\"file\"\n              className=\"form-control\"\n              key={inputKey}\n              onChange={this.onChangeCompaniesLogo}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Website: </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              value={website}\n              onChange={this.onChangeCompaniesWebsite}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"submit\"\n              value=\"Create Company\"\n              className=\"btn btn-primary\"\n            />\n          </div>\n          <div className=\"valid-feedback\" style={{ display: \"block\" }}>\n            {success}\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default CreateCompanies;\n"]},"metadata":{},"sourceType":"module"}